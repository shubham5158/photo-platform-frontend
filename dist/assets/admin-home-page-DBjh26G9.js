import{u,r as t,j as e,L as a}from"./index-CjWGGyKf.js";import{g}from"./Events-_zRMNfa-.js";import{g as N}from"./Orders-D_kBVrBj.js";import{a as f}from"./toast-pNvnD2Lz.js";const A=()=>{const{user:o}=u(),[d,m]=t.useState([]),[l,h]=t.useState([]),[n,i]=t.useState(!0),b=async()=>{try{i(!0);const[s,r]=await Promise.all([g(),N()]);m(s?.events||[]),h(r||[])}catch(s){console.error(s),f("Failed to load dashboard data")}finally{i(!1)}};t.useEffect(()=>{b()},[]);const v=d.length,p=l.length,j=l.reduce((s,r)=>s+(r.netAmount||0),0),c=d.slice(0,5),x=l.slice(0,5);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-slate-900 text-slate-50 p-6 md:p-8",children:[e.jsx("div",{className:"absolute inset-0 opacity-30 bg-[radial-gradient(circle_at_top,#fbbf24,transparent_60%),radial-gradient(circle_at_bottom,#0f172a,transparent_50%)]"}),e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-amber-300 mb-2",children:"Admin Portfolio"}),e.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold mb-2",children:["Welcome back, ",o?.name||"Photographer"," ðŸ‘‹"]}),e.jsx("p",{className:"text-sm md:text-base text-slate-300 max-w-xl",children:"Manage your wedding and event galleries, track client selections, and deliver final photos â€” all from one beautiful dashboard."}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[e.jsx(a,{to:"/admin/events",className:"inline-flex items-center px-4 py-2 rounded-full bg-amber-400 text-slate-900 text-sm font-semibold hover:bg-amber-300",children:"Create New Event"}),e.jsx(a,{to:"/admin/orders",className:"inline-flex items-center px-4 py-2 rounded-full border border-slate-500 text-sm text-slate-100 hover:bg-slate-800",children:"View Orders"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 min-w-[220px] max-w-xs",children:[e.jsxs("div",{className:"rounded-xl bg-slate-800/80 p-3 text-center",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Events"}),e.jsx("div",{className:"text-2xl font-semibold text-amber-300",children:v})]}),e.jsxs("div",{className:"rounded-xl bg-slate-800/80 p-3 text-center",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Orders"}),e.jsx("div",{className:"text-2xl font-semibold text-emerald-300",children:p})]}),e.jsxs("div",{className:"rounded-xl bg-slate-800/80 p-3 text-center",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Revenue"}),e.jsxs("div",{className:"text-lg font-semibold text-sky-300",children:["â‚¹",j]})]})]})]})]}),e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Recent Events"}),e.jsx(a,{to:"/admin/events",className:"text-xs text-slate-500 hover:text-slate-800",children:"View all"})]}),!n&&c.length?e.jsx("ul",{className:"divide-y divide-slate-100",children:c.map(s=>e.jsxs("li",{className:"py-2 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-slate-900",children:s.name}),e.jsx("div",{className:"text-xs text-slate-500",children:s.clientName})]}),e.jsx(a,{to:`/admin/events/${s._id}/photos`,className:"text-xs underline text-slate-700",children:"Photos"})]},s._id))}):e.jsx("div",{className:"text-sm text-slate-500",children:"No events found."})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold mb-3",children:"Recent Orders"}),!n&&x.length?e.jsx("ul",{className:"space-y-2 text-sm",children:x.map(s=>e.jsx("li",{className:"border border-slate-100 rounded-lg px-3 py-2",children:e.jsxs("div",{className:"text-xs text-slate-600",children:[s.quantity," photos â€¢ â‚¹",s.netAmount]})},s._id))}):e.jsx("div",{className:"text-sm text-slate-500",children:"No orders yet."})]})]})]})};export{A as default};
